# PropellerBladeDesign
A repository for tools that generate 3-D models of aerodynamic elements for axial flow machines

# Getting Started
This repository works with FreeCAD 0.18

Step 1: Clone the repostory to a directory of your choosing

Step 2: Open FreeCAD 0.18 and navigate to the Macros Window

![image](https://user-images.githubusercontent.com/63885274/159179019-75947e76-62e1-4754-aa06-0a6bb23c9ab7.png)

![image](https://user-images.githubusercontent.com/63885274/159179030-8a051646-650a-4308-be8a-91d249ad564a.png)

Step 3: Select the your newly cloned repository as the "User macros location"

Step 4: Select the PropellerGenerator.FCMacro file and select "Execute"

![image](https://user-images.githubusercontent.com/63885274/159179001-b35814cb-1b4a-4daa-9dd5-5a7f2fd90363.png)

# Using the Macro GUI

The gui is intended to make blades for propellers and fans. It will generate the base shape, but hub integration or multi-blade generation will need to be done manually with FreeCAD

A reference Geometry design CSV and FreeCAD hub integration template is provided in the mavic_pro_example folder. The expected span length is 105 mm. Below is an example set of inputs for the Macro:

![image](https://user-images.githubusercontent.com/63885274/159179231-239bce02-4b53-4df7-8fe2-2a4e0729d230.png)

The blade generated by these inputs looks like this:

![image](https://user-images.githubusercontent.com/63885274/159179302-e256a22e-e925-4ae8-b725-4b84221a1121.png)

# Using Reference Files for Hub Integration

The mavic_pro_example file has a FCStd file with reference geometry that can be used to create a finalized version of a propeller

Below is an image of all reference CAD elements:

![image](https://user-images.githubusercontent.com/63885274/159179551-0e3909a0-c6e3-4b90-b89b-e0d3facf528d.png)


Copy the reference file, rename and open it to use with the Macro. After generating a blade, the FreeCAD file will look like this:

![image](https://user-images.githubusercontent.com/63885274/159179654-8640392b-396f-47ca-ba91-774443e80148.png)

Using the Part workbench, a set of cuts and unions can be done to generate finalized geometry:

![image](https://user-images.githubusercontent.com/63885274/159179903-44bcc9fe-d545-4e82-8fe3-4af01cbc312b.png)

This file is available in the mavic_pro_example folder and is named ControlBlade_Example.FCStd

# Exporting Meshes

Experience has shown that generating 3D printable files can be tricky if not executed correctly. This section documents the only known method of consitently generating printable files

 1. Download OpenSCAD to your computer. This software is basically a precurser to FreeCAD that has good mesh generation algorithms
 2. Open the Mesh Design Workbench
 3. Select the freecad objects
 4. In the Meshes menu bar, go to "Create mesh from shape..."
 5. Select Standard Mesh and hit Okay
 6. If working with a multi-mesh part (like the fan) select the created meshes
 7. In the menu bar, navigate to and select "Meshes -> Boolean -> Union"
 8. On the newly create mesh, right click on the object, select "Export Mesh"
 9. Export as a .obj file
